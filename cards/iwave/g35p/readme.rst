.. _card_g35p:

iWave G35P
-------------

- Card information:
    - Vendor: iWave
    - Name: G35P
    - Ethernet ports: 3x QSFP-DD
        - 2x 200G
        - 1x 40G
    - PCIe conectors: Edge connector
    - `FPGA Card Website <https://www.iwavesystems.com/product/smartnic-storage-accelerator-card-zynq-ultrascale/>`_
- FPGA specification:
    - FPGA part number: ``xczu19eg-ffvc1760-2-i``
    - Ethernet Hard IP: CMAC (up to 100G Ethernet)
    - PCIe Hard IP: USP (up to PCIe Gen3 x16)

NDK firmware support
^^^^^^^^^^^^^^^^^^^^

- Ethernet cores that are supported in the NDK firmware:
    - :ref:`CMAC in the Network Module <ndk_intel_net_mod>`
- PCIe cores that are supported in the NDK firmware:
    - :ref:`USP in the PCIe Module <ndk_intel_pcie_mod>`
    - See the ``<NDK-FPGA_root_directory>/card/iwave/g35p/config/card_conf.tcl`` file for supported PCIe configurations.
- Makefile targets for building the NDK firmware (valid for Minimal app, may vary for other apps):
    - Use ``make 100g2`` command for firmware with 2x100GbE (default).
- Support for booting the NDK firmware using the nfb-boot tool:
    - NO.

Boot instructions
^^^^^^^^^^^^^^^^^

- Set Switch 1 (SW1(3:0)) to SD1 mode:
    - SW1(0) - ON
    - SW1(1) - OFF
    - SW1(2) - ON
    - SW1(3) - OFF
- Note that default setting is set to SW1: OFF ON ON OFF
- Note that SW1 is present on the SOM module (under the heatsink)

- Write the BOOT.bin file to the SD card:
    - BOOT.bin can be generated by `AMD VitisTM <https://www.amd.com/en/products/software/adaptive-socs-and-fpgas/vitis.html>`
    - In order to generate BOOT.bin, it is necessary to have the fsbl.elf file (first stage boot loader) and the generated bit stream.
        - [bootloader] zynqmp_fsbl.elf
        - [destination_device = pl] fpga.bit

- Insert the SD card into the SD connector at the bottom of the FPGA card.

.. note::

        To build the NDK firmware for this card, you must have the Xilinx Vivado installed, including a valid license.
